import {domainmodels, projects} from "../../index";

export function createSmallDomainModel(root: projects.IProject) {
	// new module:
	const module1 = projects.Module.createIn(root);
	module1.name = "Module_1";

	// new domainmodel:
	const domainModel = domainmodels.DomainModel.createIn(module1);

	// new entity:
	const entity1 = domainmodels.Entity.createIn(domainModel);
	entity1.name = "Entity_1";

	// new attributes:
	const attribute1 = domainmodels.Attribute.createIn(entity1);
	attribute1.name = "Attribute_1";
	attribute1.type = domainmodels.FloatAttributeType.createIn(attribute1);
	const attribute2 = domainmodels.Attribute.createIn(entity1);
	attribute2.name = "Attribute_2";
	const attribute3 = domainmodels.Attribute.createIn(entity1);
	attribute3.name = "Attribute_3";
	attribute3.type = domainmodels.DateTimeAttributeType.createIn(attribute3);
	(attribute3.type as domainmodels.DateTimeAttributeType).localizeDate = false;

	// new entity:
	const entity2 = domainmodels.Entity.createIn(domainModel);
	entity2.name = "Entity_2";

	// new (regular) association:
	const association = domainmodels.Association.createIn(domainModel);
	association.name = "Association_1";
	association.parent = entity1;
	association.child = entity2;
	association.type = domainmodels.AssociationType.ReferenceSet;

	// new cross association:
	const crossAssociation = domainmodels.CrossAssociation.createIn(domainModel);
	crossAssociation.name = "CrossAssociation_2";
	crossAssociation.parent = entity1;
	crossAssociation.child = entity2;
	crossAssociation.type = domainmodels.AssociationType.ReferenceSet;

	return domainModel;
}
